DROP VIEW lesson_master;
DROP VIEW user_master;
DROP VIEW user_asset_master;
DROP VIEW labeled_user_asset;
UPDATE event_type SET description = 'Triggered when a user asset is created, added to an activity, removed from an activity, commented, labeled, unlabeled, referenced, or renamed.' WHERE name = 'UserAssetEvent';
ALTER TABLE user_asset_search_index ADD COLUMN activity_id VARCHAR(100);
ALTER TABLE user_asset_search_index ADD CONSTRAINT user_asset_search_index_activity_id_fkey FOREIGN KEY (activity_id) REFERENCES activity (id) ON UPDATE CASCADE ON DELETE NO ACTION;
ALTER TABLE user_asset_search_index ADD COLUMN activity_number INT;
DROP INDEX account_unique_login_idx;
DROP INDEX lesson_study_id_number_idx;
DROP INDEX lesson_user_id_idx;
DROP INDEX user_asset_user_id_idx;
DROP INDEX course_unique_study_id_name_key;
DROP INDEX course_study_id_number_idx;
DROP INDEX course_study_id_created_at_idx;
DROP INDEX course_user_id_idx;
DROP INDEX study_unique_user_id_name_key;
DROP INDEX study_user_id_advanced_at_idx;
DROP INDEX study_user_id_updated_at_idx;
DROP INDEX topic_unique_name_idx;
DROP INDEX user_asset_study_id_name_unique_idx;
DROP INDEX user_asset_search_index_study_id_name_unique_idx;
DROP FUNCTION account_will_insert () CASCADE;
